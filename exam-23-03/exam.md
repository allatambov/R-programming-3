## Экзамен по курсу "Основы программирования в R"

*Алла Тамбовцева*

**Задание 1**

Политолог Мебейн (Walter R. Mebane) считает, что большая доля избирательных участков со значениями явки, заканчивающихся на 0 или 5, свидетельствует о фальсификациях результатов выборов. Аргументирует он это чисто психологическими причинами: если значения явки сочиняют люди, то они более склонны записывать круглые числа и числа, кратные 5.

Перед Вами вектор значений явки на избирательных участках в районе F страны Флатландии:

```
turnout <- c(100, 124, 121, 130, 150, 155, 144, 132, 189, 145, 125, 110, 118, 129, 127)
```

1. *(1 балл)* Выведите на экран индексы избирательных участков, где явка, согласно Мебейну, выглядит подозрительной (значения явки, кратные 10 или 5).

2. *(1 балл)* Определите долю таких подозрительных участков, выразите ее в процентах и округлите ответ до второго знака после запятой.

В заданиях 2-3 Вы будете работать с базой данных, которая содержит результаты опроса студентов первого курса ОП "Политология" (2017-2018). Опрос был направлен на выявление того, каким образом одни и те же предметы называются в разных регионах. Опрос проводился анонимно; студенты указывали некоторую демографическую информацию (пол, возраст), а затем подписывали названия предметов, изображенных на фотографии.

Подробнее вопросы см. файл *soc_ling_form.pdf*.

Результаты были приведены к единообразному виду и сохранены в файл *csv*.

**Задание 2**

1. *(1 балл)* Загрузите базу данных *soc_ling.csv*.

2. *(1 балл)* Сколько студентов участвовало в опросе? Сколько переменных в базе данных? Приведите код для ответов на вопросы и запишите ответ в виде комментария.

3. *(1 балл)* Сколько в базе строк, содержащих пропущенные значения? Приведите код для ответа на вопрос и запишите ответ в виде комментария.

4. *(1 балл)* Удалите из базы пропущенные значения.

5. *(1 балл)* Выведите описательные статистики для всех переменных в базе.

**Задание 3**

Все необходимые действия должны быть выполнены с помощью библиотеки *dplyr*.

1. *(2 балла)* Сгруппируйте все наблюдения в соответствии со значениями переменной *region*. Сколько в базе данных респондентов, относящихся к каждому региону? Приведите код.

2. *(2 балла)* Добавьте в базу данных переменную *moscow*, которая принимает значение 1, если респондент в качестве города (*place*) указал Москву, и 0 -- иначе.

3. *(3 балла)* Кого в базе данных больше: девушек, называющих этот предмет (вопрос 1) *замазкой*, или юношей, называющих этот предмет *корректором* (переменная *X3*)? Приведите код и ответ на вопрос в виде комментария.

4. *(3 балла)* Кто чаще в качестве продолжения фразы "Жадина-говядина..." использует сочетание "турецкий барабан": москвичи или жители других регионов (переменные *conts* и *moscow*)? Приведите код и ответ на вопрос в виде комментария.

5. *(3 балла)* Постройте (необязательно с помощью *ggplot2*) график, который бы показывал связь между регионом, где респондент провел больше всего времени (переменная *region*) и ответом на вопрос про продолжение фразы "Жадина-говядина ..." (переменная *conts*).

**Задание 4 (5 баллов)**

Воспользуйтесь встроенной в R базой *iris*. Постройте с помощью библиотеки *ggplot2* гистограммы для показателя *длина лепестков* (*Petal.Length*) в зависимости от сорта ирисов. Нужно, чтобы все гистограммы были в пределах одного графика, но при этом в разных окнах (каждое окно соответствует одному сорту ириса). Дайте название графику, подпишите оси и поменяйте цвет гистограмм так, чтобы гистограммы в разных окнах были разного цвета.

**Задание 5**

Дан вектор, содержащий ответы респондентов на вопрос "Сколько часов в среднем Вы спали за последнюю неделю?":

```
sleep <- c("2,5", "3", "8", "7", "4", "1", "3,5", "4", "6", "2", "1", "5", "9" )
```

1. *(2 балла)* Проверьте, какой тип имеют элементы вектора. При необходимости внесите изменения в вектор.
2. *(3 балла)* Напишите код, который оценивает каждое значение вектора: если значение менее 3, то, на экран должно выводиться сообщение "Alarm! Are you still alive?", если более 3 и менее 5, сообщение "Well. Maybe you will survive.", более 5 -- сообщение "You can live, I believe."

**Задание 6 (5 баллов)**

Напишите функцию *mark*, которая принимает на вход числовой вектор из двух элементов (накопленная оценка и оценка за экзамен) и возвращает итоговую оценку, округленную до целого значения, посчитанную по следующей формуле:

    ```
    Итог = 0.6 * накопленная + 0.4 * экзамен
    ```

**Задание 7 (5 баллов)**

Напишите функцию *dante*, которая выводит на экран вопрос "В каком круге Ада по Данте находится Платон?", сохраняет ответ пользователя, введенный с клавиатуры, и если ответ верный (принимаются ответы *Лимб*, *первый* и *1*), то выводит на экран сообщение "Верный ответ!", если нет -- выводит сообщение "Неверно. Перечитайте Данте!".