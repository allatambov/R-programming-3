Семинар 1. Для тех, кому скучно.
================
Алла Тамбовцева
3 ноября 2017 г

**Задача 1**

Известно, что коэффициент корреляции всегда лежит в интервале \[-1; 1\].

1.  Напишите код, который бы проверял, есть ли в векторе, состоящем из коэффициентов корреляций, недопустимые значения. Если есть, то код должен выдавать TRUE, если нет, то FALSE.

2.  Напишите функцию check\_corr, которая принимает на вход вектор корреляций. Если в векторе все значения допустимые, то она ничего не возвращает, если есть хотя бы одно недопустимое, выводит на экран сообщение “The vector of correlations contains inappropriate values”.

**Подсказка:** посмотрите документацию (help) по функции all.

**Задача 2**

*Задача классификации в машинном обучении.*

Есть данные: набор объектов, обладающих некоторыми характеристиками, про которые известно, к каким классам они относятся. Задача: на основе имеющихся данных создать классификатор (алгоритм, модель), который сможет отнести произвольный объект к определенному классу, опираясь на характеристики этого объекта.

Например, нас интересует, каким пользователям можно рекомендовать фильм X. У нас есть база данных по 10000 пользователей, которая содержит следующую информацию: пол пользователя, какие жанры фильмов он предпочитает, сколько фильмов такого же жанра как и X он посмотрел, смотрел ли фильмы с теми же актерами в главных ролях, и, наконец, отметил ли он фильм X как понравившийся или нет. Выбираем подходящий нам метод классификации и на основе имеющихся данных обучаем классификатор, который будет определять, понравится ли фильм X пользователю или нет (1 — понравится, 0 — не понравится). В результате на вход готовому классификатору мы сможем подать характеристики нового пользователя (женщина, предпочитает комедии, смотрела 2 фильма такого же жанра, что и X, не смотрела фильмов с теми же актерами в главных ролях), а классификатор выдаст нам метку 0 — фильм ей не понравится, рекомендовать его не стоит. Оценка качества классификации.

Для оценки качества классификации в машинном обучении используются два важных показателя: точность (precision) и полнота (recall). В случае бинарной классификации (когда необходимо отнести объекты к одному из двух классов, условно «положительному» (1) или «отрицательному» (0), точность можно определить как долю объектов, которые действительно являются положительными, среди тех объектов, которые классификатор отнес к положительному классу, а полноту — как долю объектов, которые классификатор отнес к положительному классу, среди тех объектов, которые действительно являются положительными.

Группа исследователей, занимающихся анализом тональности, разработала свой метод классификации отзывов о фильмах — получила классификатор, который позволяет определить, является ли отзыв о фильме положительным или отрицательным (нейтральные отзывы не рассматриваются). Чтобы оценить качество метода классификации, исследователи взяли 1000 отзывов о фильмах, о которых известно, являются ли они положительными или отрицательными (метки присваивались экспертом), которые не были задействованы при обучении классификатора, определили их тональность с помощью созданного классификатора и проверили, насколько метки, присвоенные классификатором совпадают с метками, присвоенными экспертом.

Даны векторы с метками, присовенными классификатором (alg) и экспертами (exp).

``` r
labels_alg <- c(1, 0, 1, 0, 0, 1, 0, 0, 1, 1)
labels_exp <- c(0, 1, 1, 0, 1, 1, 1, 1, 0, 0)
```

Пользуясь определениями, посчитайте точность, полноту и [F-меру](http://bazhenov.me/blog/2012/07/21/classification-performance-evaluation.html) для оценки работы этого алгоритма.

Напишите функцию, которая принимает на вход два вектора - метки, присвоенные экспертом и метки, присвоенные алгоритмом, и

-   возвращает таблицу с точностью метода, полнотой метода и F-мерой

-   сохраняет в файл `incorrect_negative.txt` индексы отзывов, которые были неверно помечены классификатором как отрицательные, сохраняет в файл`incorrect_positive.txt` индексы отзывов, которые были неверно помечены классификатором как положительные
