---
title: "Семинар 2. Решения."
author: "Алла Тамбовцева"
output: github_document
---
1. Создайте матрицу размерности 3 * 4, состоящую из 3, а затем измените некоторые ее элементы так, чтобы получить следующее:
    ```
    [3 3 4 3]
    [1 3 3 3]
    [3 NA 3 1]
    ```
    ```{r}
M <- matrix(3, nrow = 3, ncol = 4)
M[1,3] <- 4
M[2,1] <- 1
M[3,2] <- NA
M[3,4] <- 1
M
    ```


2. Создайте из следующих векторов матрицу, такую, что:

    * векторы являются столбцами матрицы
    * векторы являются строками матрицы

    ```
a <- c(1, 3, 4, 9, NA)
b <- c(5, 6, 7, 0, 2)
c <- c(9, 10, 13, 1, 20)
    ```

    ```{r}
a <- c(1, 3, 4, 9, NA)
b <- c(5, 6, 7, 0, 2)
c <- c(9, 10, 13, 1, 20)
mat <- cbind(a, b, c) # столбцами
mat
mat2 <- rbind(a, b, c) # строками
mat2
    ```

    Дайте (новые) названия строкам и столбцам матрицы.
    

    ```{r}
# для mat

rownames(mat) <- c("r1", "r2", "r3", "r4", "r5")
colnames(mat) <- c("c1", "c2", "c3")

# или сразу все

dimnames(mat) <- list(c("r1", "r2", "r3", "r4", "r5"), c("c1", "c2", "c3"))
mat
    ```


3. Может ли матрица состоять из элементов разных типов? Проверьте: составьте матрицу из следующих векторов (по столбцам):

    ```
    names <- c("Jane", "Michael", "Mary", "George")
    ages <- c(8, 6, 28, 45)
    gender <- c(0, 1, 0, 1)
    ```

    ```{r}
names <- c("Jane", "Michael", "Mary", "George")
ages <- c(8, 6, 28, 45)
gender <- c(0, 1, 0, 1)

# нет не может

inf <- cbind(names, ages, gender) # все элементы стали текстовыми!
inf
    ```

    Если получилось не то, что хотелось, подумайте, как это можно исправить, не теряя информации, которая сохранена в векторах.

    ```{r}
inf <- cbind(ages, gender)
rownames(inf) <- names # текстовый вектор уходит в названия строк и ничего не портит
inf
    ```

    Добавьте в матрицу столбец age_sq -- возраст в квадрате. 

    ```{r}
age_sq <- ages^2
inf <- cbind(inf, age_sq)
inf
    ```


4. Создайте из векторов из задачи 3 список (list) и назовите его info.

    ```{r}
info <- list(names, ages, gender)
    ```

    * Выведите на экран имя Michael (обращаясь к элементам списка, конечно).

    ```{r}
info[[1]][2]
    ```

    * Выведите на экран вектор gender.

    ```{r}
info[[3]]
    ```

    * Назовите векторы в списке name, age, gender. Выведите на экран элементы вектора name.

    ```{r}
info <- list(name = names, age = ages, gender = gender)
info$name
    ```

    * Добавьте в список вектор drinks, в котором сохранены значения: juice, tea, rum, coffee.

    ```{r}
info$drinks <- c("juice", "tea", "rum", "coffee")
    ```

    * Добавьте в список данные по еще одному человеку: John, 2 года, мужской пол, любит молоко.

    ```{r}
info$name[5] <- "John"
info$age[5]<- 2
info$gender[5] <- 1
info$drinks[5] <- "milk"
info
    ```

5. В R есть функция strsplit(), которая позволяет разбивать строки (текстовые переменные) на части по определенным символам.

Пусть у нас есть строка s:
```
s <- "a,b,c,d"
```
Мы хотим получить из нее вектор из 6 букв. Применям функцию:
```
let <- strsplit(s, ",")
```
Получили почти то, что хотели. Почему почти? Потому что получили не вектор, а список!
```
class(let)
## [1] "list"
```
Превратим в вектор:
```
unlist(let)
## [1] "a" "b" "c" "d"
```
Теперь все в порядке, получили вектор из четырех элементов.

Теперь задание. Дана строка index:
```
index <- "0,72;0,38;0,99;0,81;0,15;0,22;0,16;0,4;0,24"
```
Получите из этой строки числовой вектор I.

```{r}
index <- "0,72;0,38;0,99;0,81;0,15;0,22;0,16;0,4;0,24"
index2 <- gsub(",", ".", index)
l <- strsplit(index2, ";")
I <- as.numeric(unlist(l))
I
```

